var body=document.getElementsByTagName("body")[0],window_game=document.getElementById("window_game"),window_level=document.getElementById("window_level"),start_level=document.getElementById("start-level"),end_level=document.getElementById("end-level"),end_level_points=document.getElementById("end-level-total-points"),level_layer=document.getElementById("level_layer"),level_layer_clone=level_layer.cloneNode(!1),hero=document.getElementById("hero"),time_value=document.getElementById("time_value"),points_value=document.getElementById("points_value"),falls_value=document.getElementById("falls_value"),fails_value=document.getElementById("fails_value"),level_number=document.getElementsByClassName("level-number"),sound=document.getElementById("sound"),pvi=parseInt(points_value.innerHTML),fvi=parseInt(falls_value.innerHTML),evi=parseInt(fails_value.innerHTML),lvi=0,level_state="pause",sound_jump,sound_box_azul,sound_box_laranja,sound_box_vermelha,sound_box_dourada,sound_tic_tac_bomb,sound_bomb_rebenta,gravity=!1,segundos=0,minutos=0,restantes=0,joystick=new VirtualJoystick({container:document.getElementById("joystick-container"),mouseSupport:!0}),gosquares={start:function(){this.load_media(),this.hero(),this.center_window_game(),this.game_events.init(),this.dialog.start(),this.level.init()},next_level:function(){this.hero(),this.dialog.start(),this.level.init()},finish:function(){level_state="finish",this.dialog.end()},dialog:{start:function(){lvi++,start_level.style.display="block",end_level.style.display="none",window_level.style.display="block"},end:function(){function a(){b>=0&&parseInt(.1*pvi)>=b?(b+=2,end_level_points.innerHTML=b):parseInt(.1*pvi)+1<=b&&b<=parseInt(.3*pvi)?(b+=4,end_level_points.innerHTML=b):parseInt(.3*pvi)+1<=b&&b<=parseInt(.8*pvi)?(b+=6,end_level_points.innerHTML=b):parseInt(.8*pvi)+1<=b&&b<=parseInt(.9*pvi)?(b+=4,end_level_points.innerHTML=b):b>=parseInt(.9*pvi)+1&&pvi>b&&pvi>b+2?(b+=2,end_level_points.innerHTML=b):(clearInterval(c),end_level_points.innerHTML=pvi)}start_level.style.display="none",end_level.style.display="block",window_level.style.display="block";var b=1,c=setInterval(a,1)}},events:{keyup:function(a){var b=a.keyCode;"start"===level_state?37!==b&&39!==b||(hero.setAttribute("class",hero.getAttribute("class").replace("left_init","left_stop")),hero.setAttribute("class",hero.getAttribute("class").replace("right_init","right_stop"))):"pause"!==level_state&&"finish"!==level_state||32!==b&&13!==b||("finish"===level_state?gosquares.next_level():"pause"!==level_state||gravity||gosquares.game_events.gravity())},keydown:function(a){var b=a.keyCode;if("start"===level_state){var c=-1!==hero.getAttribute("class").search("up_init"),d=(-1!==hero.getAttribute("class").search("left_init"),-1!==hero.getAttribute("class").search("down_init"));-1!==hero.getAttribute("class").search("right_init");switch(console.log(b),b){case 37:hero.setAttribute("class",hero.getAttribute("class").replace("left_stop","left_init"));break;case 38:case 32:c||d||hero.setAttribute("class",hero.getAttribute("class").replace("up_stop","up_init"));break;case 39:hero.setAttribute("class",hero.getAttribute("class").replace("right_stop","right_init"))}}},touchend:function(a){"start"===level_state&&(hero.setAttribute("class",hero.getAttribute("class").replace("right_init","right_stop")),hero.setAttribute("class",hero.getAttribute("class").replace("left_init","left_stop")))},touchmove:function(a){if("start"===level_state){var b=-1!==hero.getAttribute("class").search("up_init"),c=(-1!==hero.getAttribute("class").search("left_init"),-1!==hero.getAttribute("class").search("down_init"));-1!==hero.getAttribute("class").search("right_init");joystick.up()&&(b||c||hero.setAttribute("class",hero.getAttribute("class").replace("up_stop","up_init"))),joystick.left()&&hero.setAttribute("class",hero.getAttribute("class").replace("left_stop","left_init")),joystick.right()&&hero.setAttribute("class",hero.getAttribute("class").replace("right_stop","right_init"))}}},state:{level_blocks:""},level:{background:function(){level_layer.style.left="0";var a="";switch(lvi){case 1:case 2:case 3:a="url('min/images/fundo_1.png')";break;case 4:case 5:case 6:a="url('min/images/fundo_2.png')";break;case 7:a="url('min/images/fundo_3.png')"}level_layer.style.cssText+="background: "+a+" left bottom;",hero.style.cssText+='background: url("min/images/personagem_0_dir.png"); '},number:function(){for(var a=level_number.length-1;a>=0;--a)level_number[a].innerHTML=lvi},generate:{render_blocks:function(a){for(var b,c=a.normal_blocks,d=a.jump_blocks,e=(a.green_blocks,a.stone_blocks,0);e<c.length;e++)b="",b=document.createElement("div"),b.setAttribute("class","block b_"+(e+1)),b.style.cssText="position:absolute;left:"+c[e].left+"px;bottom:"+c[e].bottom+'px;z-index:10;width:50px;height:50px;background:url("min/images/inactivo.png");border:solid 1px #2f0000;',level_layer.appendChild(b),e===c.length-1&&b.setAttribute("class",b.getAttribute("class")+"block dourado");for(var f=0;f<d.length;f++)b="",b=document.createElement("div"),b.setAttribute("class","aux aux_"+(f+1)),b.style.cssText="position:absolute;left:"+d[f].left+"px;bottom:"+d[f].bottom+'px;z-index:10;width:50px;height:50px;background:url("min/images/vermelho.png");display:none;border:dashed 1px #ffffff;',level_layer.appendChild(b)},level_1:function(){var a={};a.normal_blocks=[{left:250,bottom:70},{left:400,bottom:70},{left:550,bottom:70},{left:650,bottom:115},{left:750,bottom:170},{left:900,bottom:220},{left:1100,bottom:220},{left:1e3,bottom:320},{left:1e3,bottom:120},{left:1e3,bottom:220}],a.jump_blocks=[{left:parseInt((a.normal_blocks[0].left+a.normal_blocks[a.normal_blocks.length-1].left)/2),bottom:30}],gosquares.state.level_blocks=a,this.render_blocks(a)},level_2:function(){var a={};a.normal_blocks=[{left:250,bottom:70},{left:350,bottom:150},{left:250,bottom:230},{left:350,bottom:300},{left:600,bottom:300},{left:600,bottom:100},{left:600,bottom:200},{left:900,bottom:250},{left:700,bottom:200},{left:800,bottom:200},{left:1060,bottom:180},{left:1200,bottom:250},{left:1300,bottom:300}],a.jump_blocks=[{left:parseInt((a.normal_blocks[0].left+a.normal_blocks[a.normal_blocks.length-1].left)/2),bottom:30}],gosquares.state.level_blocks=a,this.render_blocks(a)},level_3:function(){var a,b,c,d=[],e=[],f=[100,200,300,150,250,200,400,475,550,625,550,700,775,700,850,950,1050,1150,1400,1700],g=[74,74,74,150,150,220,350,250,350,250,150,350,250,150,350,300,250,200,250,300],h=0,i=f.length,j=[parseInt((f[0]+f[f.length-1])/2)],k=[30],l=0,m=j.length,n="solid 1px #ffffff;",o="block";for(a=0;i>a;a++)h++,d[a]=document.createElement("div"),d[a].setAttribute("class","block b_"+(a+1)),d[a].style.cssText="position:absolute;left:"+f[a]+"px;bottom:"+g[a]+'px;z-index:10;width:50px;height:50px;background:url("min/images/inactivo.png");border:solid 1px #2f0000;',level_layer.appendChild(d[a]),a===f.length-1&&d[a].setAttribute("class",d[a].getAttribute("class")+"block dourado"),5!==a&&17!==a&&18!==a||d[a].setAttribute("class",d[a].getAttribute("class")+" vermelho");for(b=0;m>b;b++)l++,e[b]=document.createElement("div"),e[b].setAttribute("class","aux aux_"+l),0===b&&(e[b].setAttribute("id","aux_vermelho"),c="vermelho",o="display:none;"),m>b&&b>0&&(e[b].setAttribute("id","aux_verde"),c="inactivo",n="solid 1px #333333;",o="display:block;"),e[b].style.cssText="position:absolute;left:"+j[b]+"px;bottom:"+k[b]+'px;z-index:10;width:50px;height:50px;background:url("min/images/'+c+'.png");'+o+"border:"+n,level_layer.appendChild(e[b])},level_4:function(){var a,b,c,d,e=[],f=[],g=[],h=[100,150,250,250,330,330,450,450,530,530,490,650,650,730,730,700,800,900,950,1100,1200,1300,1400,1400,1300,1200,1100,1200,1300,1300,1200,1250],i=[210,210,210,290,290,210,110,190,190,110,330,310,390,390,310,190,190,190,190,240,340,340,240,140,40,40,140,240,240,140,140,190],j=[0,40,90,0,50,290,490,690,650,750,850,1150,1250,1350,1150,1350,1150,1250,1350],k=[30,120,120,210,210,250,150,350,190,190,190,290,290,290,190,190,90,90,90],l=0,m=0,n=h.length,o=j.length,p=[parseInt((h[0]+h[h.length-1])/2)],q=[30],r=0,s=p.length,t="solid 1px #ffffff;",u="block";for(c=0;s>c;c++)r++,g[c]=document.createElement("div"),g[c].setAttribute("class","aux aux_"+r),0===c&&(g[c].setAttribute("id","aux_vermelho"),d="vermelho",u="display:none;"),s>c&&c>0&&(g[c].setAttribute("id","aux_verde"),d="inactivo",t="solid 1px #333333;",u="display:block;"),g[c].style.cssText="position:absolute;left:"+p[c]+"px;bottom:"+q[c]+'px;z-index:10;width:50px;height:50px;background:url("min/images/'+d+'.png");'+u+"border:"+t,level_layer.appendChild(g[c]);for(a=0;n>a;a++)l++,e[a]=document.createElement("div"),e[a].setAttribute("class","block b_"+(a+1)),e[a].style.cssText="position:absolute;left:"+h[a]+"px;bottom:"+i[a]+'px;z-index:10;width:50px;height:50px;background:url("min/images/inactivo.png");border:solid 1px #2f0000;',level_layer.appendChild(e[a]),a===h.length-1&&e[a].setAttribute("class",e[a].getAttribute("class")+"block dourado"),10===a&&e[a].setAttribute("class",e[a].getAttribute("class")+" vermelho");for(b=0;o>b;b++)m++,f[b]=document.createElement("div"),f[b].setAttribute("class","stone"),f[b].style.cssText="position:absolute;left:"+j[b]+"px;bottom:"+k[b]+'px;z-index:10;width:50px;height:50px;background:url("min/images/cinzento.png");border:solid 1px #2f0000;',level_layer.appendChild(f[b])},level_5:function(){var a,b,c,d,e=[],f=[],g=[],h=[20,30,40,30,20,130,200,300,340,400,500,350,550,600,560,640,650,200,200,850],i=[30,110,190,270,340,190,230,230,280,380,285,130,130,130,230,330,30,30,130,190],j=[200,250,300,350,400,450,500,550,600,650,0,0,0,0,0,0,0,0,0,0,50,100,150,150,150,150,150,150,150,150,150,250,250,250,250,250,250,250,350,350,350,350,450,300,400,450,500,350,450,550,550,550,550,500,450,450,550,550,650,650,650,650,650,650,700,750,750,750,750,750,750,750,750,750,800,800,850,900,900,900,900,850,800],k=[480,480,480,480,480,480,480,480,480,480,30,80,130,180,230,280,330,380,430,480,480,480,480,30,80,130,180,230,280,330,380,430,380,330,230,180,130,30,230,280,330,380,380,130,130,130,130,80,30,430,380,330,280,280,280,180,230,80,130,180,230,280,330,380,480,480,430,380,330,230,180,130,80,30,230,180,180,180,230,280,330,330,330],l=0,m=0,n=h.length,o=j.length,p=[parseInt((h[0]+h[h.length-1])/2)],q=[30],r=0,s=p.length,t="solid 1px #ffffff;",u="block";for(c=0;s>c;c++)r++,g[c]=document.createElement("div"),g[c].setAttribute("class","aux aux_"+r),0===c&&(g[c].setAttribute("id","aux_vermelho"),d="vermelho",u="display:none;"),s>c&&c>0&&(g[c].setAttribute("id","aux_verde"),d="inactivo",t="solid 1px #333333;",u="display:block;"),g[c].style.cssText="position:absolute;left:"+p[c]+"px;bottom:"+q[c]+'px;z-index:10;width:50px;height:50px;background:url("min/images/'+d+'.png");'+u+"border:"+t,level_layer.appendChild(g[c]);for(a=0;n>a;a++)l++,e[a]=document.createElement("div"),e[a].setAttribute("class","block b_"+l),e[a].style.cssText="position:absolute;left:"+h[a]+"px;bottom:"+i[a]+'px;z-index:10;width:50px;height:50px;background:url("min/images/inactivo.png");border:solid 1px #333333;',level_layer.appendChild(e[a]),a===h.length-1&&e[a].setAttribute("class",e[a].getAttribute("class")+"block dourado"),5!==a&&8!==a&&10!==a&&18!==a||e[a].setAttribute("class",e[a].getAttribute("class")+" vermelho"),6!==a&&9!==a&&13!==a&&14!==a&&16!==a||(l++,e[a].setAttribute("class",e[a].getAttribute("class")+" laranja_3"),e[a].setAttribute("class",e[a].getAttribute("class")+" b_"+l),l++,e[a].setAttribute("class",e[a].getAttribute("class")+" b_"+l));for(b=0;o>b;b++)m++,f[b]=document.createElement("div"),f[b].setAttribute("class","stone"),f[b].style.cssText="position:absolute;left:"+j[b]+"px;bottom:"+k[b]+'px;z-index:10;width:50px;height:50px;background:url("min/images/cinzento.png");border:solid 1px #000000;',level_layer.appendChild(f[b])},level_6:function(){var a,b,c,d,e=[],f=[],g=[],h=[150,200,250,150,400,500,450,450,650,650,950,1e3,950,900,1e3,1100,1150,1200,1250,1300,1350,1400],i=[80,80,80,180,130,130,130,300,80,275,380,180,180,30,30,30,80,130,130,230,280,30],j=[100,100,100,200,200,200,300,300,300,450,450,450,600,700,600,650,700,850,850,850,850,850,850,850,850,850,900,950,1e3,1050,1050,1050,1050,1050,1050,1050,1050,950,950,950,950,1050,1e3,1300,1200,1350,1150,1200,1250,1300,1350,1450,1200,1250,1300,1350,1450,1300,1350,1450,1300,1350,1450,1350,1450,1450,1450,1450,1450,1450],k=[80,130,180,30,180,230,80,130,180,30,80,400,80,80,30,30,30,30,80,130,180,230,280,380,430,480,480,480,480,480,430,380,330,280,230,180,130,280,330,130,30,30,130,180,80,230,30,30,30,30,30,30,80,80,80,80,80,130,130,130,180,180,180,230,230,280,330,380,430,480],l=[parseInt((h[0]+h[h.length-1])/2),515,800,650,900,1250,1400,1400,1400,1400,1400,1400],m=[30,300,330,130,280,180,80,130,180,230,280,330],n=0,o=0,p=h.length,q=j.length,r=l.length,s="solid 1px #ffffff;",t="";for(c=0;r>c;c++)o++,g[c]=document.createElement("div"),g[c].setAttribute("class","aux aux_"+o),0===c&&(g[c].setAttribute("id","aux_vermelho"),d="vermelho",t="display:none"),r>c&&c>0&&(g[c].setAttribute("id","aux_verde"),d="inactivo",s="solid 1px #333333;"),g[c].style.cssText="position:absolute;left:"+l[c]+"px;bottom:"+m[c]+'px;z-index:10;width:50px;height:50px;background:url("min/images/'+d+'.png");'+t+"border:"+s,level_layer.appendChild(g[c]);for(a=0;p>a;a++)n++,e[a]=document.createElement("div"),e[a].setAttribute("class","block b_"+n),e[a].style.cssText="position:absolute;left:"+h[a]+"px;bottom:"+i[a]+'px;z-index:10;width:50px;height:50px;background:url("min/images/inactivo.png");border:solid 1px #333333;',level_layer.appendChild(e[a]),a===h.length-1&&e[a].setAttribute("class",e[a].getAttribute("class")+"block dourado"),6!==a&&8!==a&&15!==a||e[a].setAttribute("class",e[a].getAttribute("class")+" vermelho"),1!==a&&7!==a&&10!==a&&18!==a&&20!==a||(n++,e[a].setAttribute("class",e[a].getAttribute("class")+" laranja_3"),e[a].setAttribute("class",e[a].getAttribute("class")+" b_"+n),n++,e[a].setAttribute("class",e[a].getAttribute("class")+" b_"+n));for(b=0;q>b;b++)f[b]=document.createElement("div"),f[b].setAttribute("class","stone"),f[b].style.cssText="position:absolute;left:"+j[b]+"px;bottom:"+k[b]+'px;z-index:10;width:50px;height:50px;background:url("min/images/cinzento.png");border:solid 1px #000000;',level_layer.appendChild(f[b])},level_7:function(){var a,b,c,d,e=[],f=[],g=[],h=[400,350,300,500,450,500,450,400,350,600,700,750,700,600,800,900,1e3,1e3],i=[30,100,100,100,100,330,380,380,380,380,330,330,180,230,80,280,80,400],j=[80,0,160,80,200,150,250,250,250,250,250,250,250,250,250,250,300,350,400,450,500,350,350,400,450,300,350,400,450,500,550,600,650,700,750,550,550,550,550,550,550,550,550,550,600,650,700,700,700,750,700,800,850,850,850,850,850,850,850,900,850,850,850,800,750,700,650,600,600,650,750,800,700,700,900,900,950,900,950,1e3,1100,1150,900,950,1e3,1050,1100,1150,1200,900,950,1e3,1050,1100,1150,1200,1250,950,1e3,1050,1100,1150,1200,1250,1300,900,950,1e3,1050,1100,1150,1200,1250,1300,1350,900,950,1e3,1050,1100,1150,1200,1250,1300,1350,1400,900,950,1e3,1050,1100,1150,1200,1250,1300,1350,1400,1450],k=[140,240,240,340,390,490,80,130,180,230,330,380,430,480,30,280,230,230,230,230,230,280,330,330,330,480,480,480,480,480,480,480,480,480,480,430,380,330,280,230,180,130,80,30,330,330,380,430,280,280,330,480,480,430,380,330,280,230,180,180,130,80,30,30,30,30,30,30,180,180,180,180,80,130,430,380,380,330,330,330,330,330,280,280,280,280,280,280,280,230,230,230,230,230,230,230,230,180,180,180,180,180,180,180,180,130,130,130,130,130,130,130,130,130,130,80,80,80,80,80,80,80,80,80,80,80,30,30,30,30,30,30,30,30,30,30,30,30],l=[parseInt((h[0]+h[h.length-1])/2),300,800,650,650],m=[30,330,330,80,380],n=0,o=0,p=h.length,q=j.length,r=l.length,s="solid 1px #ffffff;",t="block";for(c=0;r>c;c++)o++,g[c]=document.createElement("div"),g[c].setAttribute("class","aux aux_"+o),0===c&&(g[c].setAttribute("id","aux_vermelho"),d="vermelho",t="display:none;"),r>c&&c>0&&(g[c].setAttribute("id","aux_verde"),d="inactivo",s="solid 1px #333333;",t="display:block;"),g[c].style.cssText="position:absolute;left:"+l[c]+"px;bottom:"+m[c]+'px;z-index:10;width:50px;height:50px;background:url("min/images/'+d+'.png");'+t+"border:"+s,level_layer.appendChild(g[c]);for(a=0;p>a;a++)n++,e[a]=document.createElement("div"),e[a].setAttribute("class","block b_"+n),e[a].style.cssText="position:absolute;left:"+h[a]+"px;bottom:"+i[a]+'px;z-index:10;width:50px;height:50px;background:url("min/images/inactivo.png");border:solid 1px #333333;',level_layer.appendChild(e[a]),a===h.length-1&&e[a].setAttribute("class",e[a].getAttribute("class")+"block dourado"),0!==a&&12!==a&&14!==a||e[a].setAttribute("class",e[a].getAttribute("class")+" vermelho"),2!==a&&3!==a&&6!==a&&8!==a&&10!==a&&13!==a&&15!==a||(n++,e[a].setAttribute("class",e[a].getAttribute("class")+" laranja_3"),e[a].setAttribute("class",e[a].getAttribute("class")+" b_"+n),n++,e[a].setAttribute("class",e[a].getAttribute("class")+" b_"+n));for(b=0;q>b;b++)f[b]=document.createElement("div"),f[b].setAttribute("class","stone"),f[b].style.cssText="position:absolute;left:"+j[b]+"px;bottom:"+k[b]+'px;z-index:10;width:50px;height:50px;background:url("min/images/cinzento.png");border:solid 1px #000000;',level_layer.appendChild(f[b]),14!==b&&15!==b&&18!==b&&35!==b&&46!==b&&50!==b&&58!==b&&59!==b&&60!==b&&69!==b&&72!==b&&77!==b&&78!==b&&80!==b&&82!==b&&83!==b&&86!==b&&87!==b&&89!==b&&90!==b&&91!==b&&94!==b&&98!==b&&100!==b&&101!==b&&107!==b&&108!==b&&109!==b&&117!==b||f[b].setAttribute("class",f[b].getAttribute("class")+" dinamite")},layer:function(){var a=level_layer_clone.cloneNode(!0),b=level_layer;switch(level_layer=a,a.appendChild(hero),window_game.appendChild(a),b.style.display="none",b.setAttribute("id","level_"+parseInt(lvi-1)),lvi){case 1:this.level_1();break;case 2:this.level_2();break;case 3:this.level_3();break;case 4:this.level_4();break;case 5:this.level_5();break;case 6:this.level_6();break;case 7:this.level_7()}}},init:function(){this.number(),this.generate.layer(),this.background()}},counters:{clock:function(){"start"===level_state&&(minutos=parseInt(segundos/60),restantes=segundos-60*minutos,10>minutos?10>restantes?time_value.innerHTML="0"+minutos+" : 0"+restantes:restantes>9&&(time_value.innerHTML="0"+minutos+" : "+restantes):minutos>9&&(10>restantes?time_value.innerHTML=minutos+" : 0"+restantes:restantes>9&&(time_value.innerHTML=minutos+" : "+restantes)),segundos++)},level:function(){},time:function(){},points:function(){},fails:function(){},falls:function(){}},load_media:function(){var a,b,c,d,e=[],f=[];for(e=["personagem_inicio","fundo","fundo_1","fundo_2","fundo_3","fundo_4","inactivo","activo","vermelho","dourado","personagem_0_esq","personagem_0_dir"],c=0;c<e.length;c++)a=new Image,a.src="min/images/"+e[c]+".png";for(f=["jump","fundo","box_azul","box_dourada","box_vermelha","box_laranja"],d=0;d<f.length;d++)b=new Audio,b.src="src/fx/mp3/"+f[d]+".mp3";sound_jump=new Audio("src/fx/mp3/jump.mp3"),sound_box_azul=new Audio("src/fx/mp3/box_azul.mp3"),sound_box_laranja=new Audio("src/fx/mp3/box_laranja.mp3"),sound_box_vermelha=new Audio("src/fx/mp3/box_vermelha.mp3"),sound_box_dourada=new Audio("src/fx/mp3/box_dourada.mp3"),sound_tic_tac_bomb=new Audio("src/fx/mp3/tic_tac_bomba.mp3"),sound_bomb_rebenta=new Audio("src/fx/mp3/bomba_rebenta.mp3")},removerfx:function(){sound.setAttribute("class","silencio")},center_window_game:function(){var a=(window.innerWidth-window_game.offsetWidth)/2,b=(window.innerHeight-window_game.offsetHeight)/2;window_game.style.top=b+"px",window_game.style.left=a+"px",window_game.style.opacity="1"},game_events:{gravity:function(){if(!gravity){gravity=!0,window_level.style.display="none";var a=0,b=0,c=3.12,d=function(){a++,hero.style.webkitTransform="rotate("+b+"deg)",b=c*a,hero.style.top=hero.offsetTop+4+"px",window_game.offsetHeight-hero.offsetHeight-30<=hero.offsetTop&&(clearInterval(e),hero.setAttribute("class","right_stop left_stop up_stop down_stop"),window_game.setAttribute("class","inicio"),hero.style.webkitTransform="",level_state="start")},e=setInterval(d,20)}},init:function(){gosquares.timerizador_inicio=setInterval(gosquares.counters.clock,1e3),document.addEventListener("keyup",function(a){gosquares.events.keyup(a)},!1),document.addEventListener("keydown",function(a){gosquares.events.keydown(a)},!1),document.addEventListener("touchmove",function(a){gosquares.events.touchmove(a)}),document.addEventListener("touchend",function(a){gosquares.events.touchend(a)}),gosquares.fps()}},hero:function(){hero.style.left="0",5===lvi?hero.style.left="100px":hero.style.left="150px"},fps:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=document.getElementsByClassName("block"),L=document.getElementsByClassName("stone"),M=document.getElementsByClassName("aux"),N=(K.length,L.length),O=M.length,P=(hero.offsetTop,window_game.offsetHeight-hero.offsetHeight-30,hero.getAttribute("class"),[]),Q=[],R=[],S=-27,T=!1,U=0;b=P.length,N=Q.length,O=R.length,id_metade_blocks=parseInt(b/2,10);var V=function(){if("start"===level_state){if(m=-1!==hero.getAttribute("class").search("up_init"),n=-1!==hero.getAttribute("class").search("left_init"),o=-1!==hero.getAttribute("class").search("down_init"),p=-1!==hero.getAttribute("class").search("right_init"),HOT=hero.offsetTop,HOR=hero.offsetLeft+hero.offsetHeight,HOL=hero.offsetLeft,l=null!==sound.getAttribute("class")&&-1!==sound.getAttribute("class").search("silencio")?2:-1,q=hero.style.background.search("hero_0_esq.png"),r=hero.style.background.search("hero_0_dir.png"),s="url(min/images/personagem_0_esq.png)",t="url(min/images/personagem_0_dir.png)",L_level_layer=level_layer.offsetLeft,W_level_layer=level_layer.offsetWidth,u=hero.offsetWidth,m?(-1===l&&(-27===S&&"normal"===J?sound_jump.play():-54===S&&sound_box_vermelha.play()),console.log(S),S++,0===S||T===!0?(S=-27,J="normal",hero.setAttribute("class",hero.getAttribute("class").replace("up_init","up_stop")),hero.setAttribute("class",hero.getAttribute("class").replace("down_stop","down_init"))):hero.style.top=HOT-4+"px"):(o&&T===!1||o&&"ajustado"===T)&&(HOT+6>435||T===!0||"ajustado"===T?(HOT+6>435&&(hero.style.top="435px",1===U&&(falls_value.innerHTML=fvi+=1)),hero.setAttribute("class",hero.getAttribute("class").replace("down_init","down_stop")),T=!1):HOT+6<436&&T===!1&&(hero.style.top=HOT+6+"px")),p&&"direita"!==I?(I=0,-1===r&&(hero.style.background=t),HOL<W_level_layer-u&&(hero.style.left=HOL+5+"px",HOL>250&&-L_level_layer<W_level_layer-650&&HOL+L_level_layer<300&&HOL+L_level_layer>250&&(level_layer.style.left=L_level_layer-5+"px")),T!==!1||-1!==o||m||435===HOT||hero.setAttribute("class",hero.getAttribute("class").replace("down_stop","down_init"))):n&&"esquerda"!==I&&(I=0,-1===q&&(hero.style.background=s),HOL>0&&(hero.style.left=HOL-5+"px",HOL>250&&L_level_layer<0&&HOL+250<W_level_layer&&(level_layer.style.left=L_level_layer+5+"px")),T!==!1||-1!==o||m||435===HOT||hero.setAttribute("class",hero.getAttribute("class").replace("down_stop","down_init"))),0!==N)for(c=0;N>c;c++){if(k=Q[c][0],e=Q[c][1],i=Q[c][2],g=Q[c][4],HOT-e>-36&&HOT-e<-28&&HOR-i<30&&HOL-g>-30){HOT!==e-35?(hero.style.top=e-35+"px",T=!0,-1!==k.getAttribute("class").search("dinamite")&&(k.setAttribute("class",k.getAttribute("class").replace("dinamite","")),gosquares.e_num_f("DANGER","perigo"),cenario_bomb(0,l,k))):T="ajustado",G=1;break}if(HOT-e>46&&HOT-e<54&&HOR-i<30&&HOL-g>-30){HOT!==e+50&&T===!1?(hero.style.top=e+50+"px",T=!0,G=1):(T=!1,G=0);break}if(G=0,HOT-e>-35&&HOT-e<50&&HOL-i>-6&&HOL-i<1){HOL!==i&&(hero.style.left=i+"px",I="esquerda");break}if(HOT-e>-35&&HOT-e<50&&HOR-g>-1&&HOR-g<16){HOL!==g-35&&(hero.style.left=g-35+"px",I="direita");break}c===N-1&&(G=0,I=0)}else G=0,I=0;for(a=0;b>a;a++){if(j=P[a][0],d=P[a][1],h=P[a][2],f=P[a][4],HOT-d>-36&&HOT-d<-28&&HOR-h<30&&HOL-f>-30){if(HOT!==d-35){if(hero.style.top=d-35+"px",T=!0,v=j.style.background.search("min/images/inactivo.png"),w=j.getAttribute("class").search("dourado"),x=j.getAttribute("class").search("laranja_3"),y=j.getAttribute("class").search("laranja_2"),z=j.getAttribute("class").search("laranja_1"),A=j.style.background.search("min/images/activo.png"),B=j.getAttribute("class").search("vermelho"),C=parseInt(j.getAttribute("class").split(" ")[1].split("_")[1],10),D=j.getAttribute("class").search("b_activo"),a>0&&(F=P[a-1][0].getAttribute("class").search("b_activo")),0===a&&-1===D?(E=!0,U=1,j.setAttribute("class",j.getAttribute("class")+" b_activo"),gosquares.e_num_f(C)):a>0&&-1===F?E=!1:a>0&&-1!==F&&-1===D&&(-1===x&&-1===y&&-1===z?(j.setAttribute("class",j.getAttribute("class")+" b_activo"),E=!0,gosquares.e_num_f(C)):-1!==x?(j.setAttribute("class",j.getAttribute("class").replace("laranja_3","laranja_2")),E=!0,gosquares.e_num_f(C)):-1!==y?(j.setAttribute("class",j.getAttribute("class").replace("laranja_2","laranja_1")),E=!0,gosquares.e_num_f(C+1)):-1!==z&&(j.setAttribute("class",j.getAttribute("class").replace("laranja_1","")),j.setAttribute("class",j.getAttribute("class")+" b_activo"),E=!0,gosquares.e_num_f(C+2))),E===!1&&-1===D?(-1!==l&&null!==l||sound_box_laranja.play(),gosquares.e_num_f("?"),fails_value.innerHTML=evi+=1):E!==!0||-1!==D&&-1===B||(-1!==v&&-1===w&&-1===B&&-1===x?(j.style.background='url("min/images/activo.png") #ffffff',j.style.border="1px dashed #ffffff",pvi=points_value.innerHTML=pvi+100,-1!==l&&null!==l||sound_box_azul.play()):-1!==B?(-1===j.style.background.search("min/images/vermelho.png")&&(j.style.background='url("min/images/vermelho.png") #ffffff',j.style.border="1px dashed #ffffff"),S=-54,hero.setAttribute("class",hero.getAttribute("class").replace("up_stop","up_init")),T=!1,J="vermelho"):-1!==w&&(j.style.background='url("min/images/dourado.png") #ffffff',j.style.border="1px dashed #ffffff",-1!==l&&null!==l||sound_box_dourada.play(),pvi=points_value.innerHTML=pvi+100,window_game.setAttribute("class",window_game.getAttribute("class").replace("inicio","fim")),clearInterval(gosquares.timerizador_inicio),gosquares.finish())),-1!==P[id_metade_blocks][0].getAttribute("class").search("b_activo")&&"none"===document.getElementById("aux_vermelho").style.display){var K=document.getElementById("aux_vermelho"),L=K.style.cssText,M=K.getAttribute("class");gosquares.e_blocks(K,L,M)}}else T="ajustado";H=1;break}H=0}0===G&&0===H&&(T=!1)}};setInterval(V,20)},e_blocks:function(a,b,c){var d=0;a.style.cssText=b+";opacity:0",a.style.display="block";var e=function(){d+=.05,a.style.opacity=d,a.style.opacity>=.9&&(clearInterval(f),a.style.opacity=1,a.setAttribute("class",c))},f=setInterval(e,50)},cenario_bomb:function(a,b,c){var d=function(){if(a++,-1===b&&sound_tic_tac_bomb.play(),1===a&&(c.style.background='url("min/images/dinamite.png")',gosquares.e_num_f(3,"perigo")),3===a&&(c.style.background='url("min/images/dinamite.png")',gosquares.e_num_f(1,"perigo")),2===a&&(c.style.background='url("min/images/cinzento.png")',gosquares.e_num_f(2,"perigo")),4===a){-1===b&&sound_bomb_rebenta.play(),gosquares.e_num_f("BOOOOOMMM","perigo"),c.style.display="none",clearInterval(e);var d=hero.offsetLeft-c.offsetLeft;d>-100&&100>d&&(e_bomb(d),c.style.cssText="")}},e=setInterval(d,1e3)},e_bomb:function(a){if(0>a){det_obj_pers(38,-23);var b=function(){hero.setAttribute("class",hero.getAttribute("class").replace("left_init","left_stop")),det_obj_pers(37,"nada"),-1===hero.getAttribute("class").search("up_init")&&(clearInterval(c),hero.setAttribute("class",hero.getAttribute("class").replace("right_init","right_stop")))},c=setInterval(b,30)}else if(a>0){det_obj_pers(38,-23);var d=function(){-1!==hero.getAttribute("class").search("right_init")&&hero.setAttribute("class",hero.getAttribute("class").replace("right_init","right_stop")),det_obj_pers(39,"nada"),-1===hero.getAttribute("class").search("up_init")&&(clearInterval(e),hero.setAttribute("class",hero.getAttribute("class").replace("left_init","left_stop")))},e=setInterval(d,30)}},e_num_f:function(a,b){var c=document.getElementById("e_number");null!==c?(c.innerHTML="",c.parentNode.removeChild(c)):(c=document.createElement("span"),c.setAttribute("id","e_number"),c.style.cssText="position:absolute;color:#ffffff;font-weight:bold;right:"+window_game.offsetWidth/2+"px;top:"+window_game.offsetHeight/2+"px;z-index:100;opacity:1.0;font-size:60px;",c.innerHTML=a,window_game.appendChild(c),c=document.getElementById("e_number"),c.style.left=window_game.offsetWidth/2-c.offsetWidth/2+"px",c.style.top=window_game.offsetHeight/2-c.offsetHeight/2+"px"),"?"!==a&&"perigo"!==b||(c.style.color="red");var d=function(){c.style.width=c.innerHTML.length*parseInt(c.style.fontSize)/2+"px",c.style.left=window_game.offsetWidth/2-c.offsetWidth/2+"px",c.style.top=window_game.offsetHeight/2-c.offsetHeight/2+"px",c.style.fontSize=parseInt(c.style.fontSize,10)+8+"px",c.style.opacity=c.style.opacity-.03,(c.style.opacity<.05||null===document.getElementById("e_number"))&&(clearInterval(e),c.innerHTML="",null!==document.getElementById("e_number")&&c.parentNode.removeChild(c))},e=setInterval(d,10)},e_block_verde:function(a){var b=a,c=(a.getAttribute("id"),a.getAttribute("class")),d=a.style.cssText,e=(a.getAttribute("class").split(" ")[1].split("_")[1],c.search("activo"));if(-1===e){b.setAttribute("class",c+" activo");var f=function(){if(b.offsetHeight<3){b.setAttribute("class",""),b.style.cssText="",clearInterval(g),det_obj_pers(0,1);var a=setTimeout(function(){clearInterval(a),gosquares.e_blocks(b,d,c)},5e3)}b.style.height=b.offsetHeight-1+"px",b.style.bottom=b.offsetBottom+1+"px"},g=setInterval(f,20)}},init:function(){this.start()}};